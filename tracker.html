<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Fitness - Fitness Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="./images/logo-photo.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <nav class="navbar">
        <div class="logo">
            <h1> Fitness</h1>
        </div>
        <div class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="trainer.html">Fitness Trainer</a></li>
            <li><a href="classes.html">Classes</a></li>
            <li><a href="memberships.html">Memberships</a></li>
            <li><a href="tracker.html" class="active">Fitness Tracker</a></li>
            <li><a href="profile.html">Profile</a></li>
        </ul>
    </nav>

    <main class="tracker-page">
        <section class="tracker-hero">
            <h1>Track Your Progress</h1>
            <p>Monitor your fitness journey and achieve your goals</p>
        </section>

        <section class="tracker-dashboard">
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>Daily Steps</h3>
                    <div class="metric">
                        <span class="number" id="dailySteps">0</span>
                        <span class="goal">Goal: 10,000</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress" id="stepsProgress" style="width: 0%"></div>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3>Calories Burned</h3>
                    <div class="metric">
                        <span class="number" id="caloriesBurned">0</span>
                        <span class="goal">Goal: 500</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress" id="caloriesProgress" style="width: 0%"></div>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3>Workout Duration</h3>
                    <div class="metric">
                        <span class="number" id="workoutDuration">0</span>
                        <span class="goal">Goal: 60 min</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress" id="durationProgress" style="width: 0%"></div>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3>Water Intake</h3>
                    <div class="metric">
                        <span class="number" id="waterIntake">0</span>
                        <span class="goal">Goal: 2.5L</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress" id="waterProgress" style="width: 0%"></div>
                    </div>
                </div>
            </div>

            <div class="charts-grid">
                <div class="chart-card">
                    <h3>Weekly Workout Distribution</h3>
                    <canvas id="workoutDistributionChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Calories Burned Over Time</h3>
                    <canvas id="caloriesChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Workout Duration Trends</h3>
                    <canvas id="durationChart"></canvas>
                </div>
            </div>
        </section>

        <section class="workout-log">
            <h2>Log Your Workout</h2>
            <form id="workoutForm" class="log-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="workoutType">Workout Type</label>
                        <select id="workoutType" required>
                            <option value="">Select type</option>
                            <option value="Cardio">Cardio</option>
                            <option value="Strength">Strength Training</option>
                            <option value="Yoga">Yoga</option>
                            <option value="HIIT">HIIT</option>
                            <option value="Swimming">Swimming</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="workoutDate">Date</label>
                        <input type="date" id="workoutDate" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="duration">Duration (minutes)</label>
                        <input type="number" id="duration" min="1" required>
                    </div>
                    <div class="form-group">
                        <label for="calories">Calories Burned</label>
                        <input type="number" id="calories" min="0" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="notes">Notes</label>
                    <textarea id="notes" rows="3" placeholder="How did your workout go?"></textarea>
                </div>
                <button type="submit" class="cta-button">Log Workout</button>
            </form>

            <div class="log-history">
                <h3>Workout History</h3>
                <div class="history-filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="Cardio">Cardio</button>
                    <button class="filter-btn" data-filter="Strength">Strength</button>
                    <button class="filter-btn" data-filter="Yoga">Yoga</button>
                    <button class="filter-btn" data-filter="HIIT">HIIT</button>
                    <button class="filter-btn" data-filter="Swimming">Swimming</button>
                </div>
                <div class="history-list" id="workoutHistory">
                    <!-- Workout history will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <section class="achievements">
            <h2>Your Achievements</h2>
            <div class="achievements-grid">
                <div class="achievement-card">
                    <i class="fas fa-trophy"></i>
                    <h3>First Workout</h3>
                    <p>Complete your first workout</p>
                    <div class="achievement-progress">
                        <div class="progress-bar">
                            <div class="progress" style="width: 100%"></div>
                        </div>
                    </div>
                </div>
                <div class="achievement-card">
                    <i class="fas fa-fire"></i>
                    <h3>Streak Master</h3>
                    <p>Work out for 7 days straight</p>
                    <div class="achievement-progress">
                        <div class="progress-bar">
                            <div class="progress" style="width: 60%"></div>
                        </div>
                    </div>
                </div>
                <div class="achievement-card">
                    <i class="fas fa-dumbbell"></i>
                    <h3>Strength Builder</h3>
                    <p>Complete 20 strength workouts</p>
                    <div class="achievement-progress">
                        <div class="progress-bar">
                            <div class="progress" style="width: 40%"></div>
                        </div>
                    </div>
                </div>
                <div class="achievement-card">
                    <i class="fas fa-running"></i>
                    <h3>Cardio King</h3>
                    <p>Burn 10,000 calories</p>
                    <div class="achievement-progress">
                        <div class="progress-bar">
                            <div class="progress" style="width: 25%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3> Fitness</h3>
                <p>Your journey to fitness starts here</p>
            </div>
            <div class="footer-section">
                <h3>Contact Us</h3>
                <p>Email: info@fitness.com</p>
                <p>Phone: (555) 123-4567</p>
            </div>
            <div class="footer-section">
                <h3>Follow Us</h3>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024  Fitness. All rights reserved.</p>
        </div>
    </footer>

    <script src="auth.js"></script>
    <script src="api-service.js"></script>
    <script>
        // Hamburger Menu
        const hamburger = document.querySelector(".hamburger");
        const navLinks = document.querySelector(".nav-links");

        hamburger.addEventListener("click", () => {
            navLinks.classList.toggle("active");
            hamburger.classList.toggle("active");
        });

        // Initialize Charts
        const workoutDistributionCtx = document.getElementById('workoutDistributionChart').getContext('2d');
        const caloriesCtx = document.getElementById('caloriesChart').getContext('2d');
        const durationCtx = document.getElementById('durationChart').getContext('2d');

        // Workout Distribution Chart
        new Chart(workoutDistributionCtx, {
            type: 'doughnut',
            data: {
                labels: ['Cardio', 'Strength', 'Yoga', 'HIIT', 'Swimming'],
                datasets: [{
                    data: [30, 25, 20, 15, 10],
                    backgroundColor: [
                        '#e74c3c',
                        '#2c3e50',
                        '#3498db',
                        '#2ecc71',
                        '#f1c40f'
                    ]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        });

        // Calories Chart
        new Chart(caloriesCtx, {
            type: 'line',
            data: {
                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                datasets: [{
                    label: 'Calories Burned',
                    data: [450, 500, 380, 600, 420, 550, 480],
                    borderColor: '#e74c3c',
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Duration Chart
        new Chart(durationCtx, {
            type: 'bar',
            data: {
                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                datasets: [{
                    label: 'Duration (minutes)',
                    data: [45, 60, 30, 75, 45, 90, 60],
                    backgroundColor: '#e74c3c'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Local Storage Management
        let workouts = JSON.parse(localStorage.getItem('workouts')) || [];

        // Update Dashboard Metrics
        function updateDashboard() {
            const today = new Date().toISOString().split('T')[0];
            const todayWorkouts = workouts.filter(w => w.date === today);

            // Update metrics
            document.getElementById('dailySteps').textContent = '8,500';
            document.getElementById('caloriesBurned').textContent = todayWorkouts.reduce((sum, w) => sum + w.calories, 0);
            document.getElementById('workoutDuration').textContent = todayWorkouts.reduce((sum, w) => sum + w.duration, 0);
            document.getElementById('waterIntake').textContent = '2.1L';

            // Update progress bars
            document.getElementById('stepsProgress').style.width = '85%';
            document.getElementById('caloriesProgress').style.width = '60%';
            document.getElementById('durationProgress').style.width = '75%';
            document.getElementById('waterProgress').style.width = '84%';
        }

        // Display Workout History
        function displayWorkoutHistory(filter = 'all') {
            const historyList = document.getElementById('workoutHistory');
            historyList.innerHTML = '';

            const filteredWorkouts = filter === 'all' ?
                workouts :
                workouts.filter(w => w.type === filter);

            filteredWorkouts.sort((a, b) => new Date(b.date) - new Date(a.date));

            filteredWorkouts.forEach(workout => {
                const workoutElement = document.createElement('div');
                workoutElement.className = 'history-item';
                workoutElement.innerHTML = `
                    <div class="history-header">
                        <span class="date">${new Date(workout.date).toLocaleDateString()}</span>
                        <span class="type">${workout.type}</span>
                    </div>
                    <div class="history-details">
                        <span><i class="fas fa-clock"></i> ${workout.duration} min</span>
                        <span><i class="fas fa-fire"></i> ${workout.calories} cal</span>
                    </div>
                    <p class="notes">${workout.notes || 'No notes'}</p>
                    <button class="delete-btn" data-id="${workout.id}">
                        <i class="fas fa-trash"></i>
                    </button>
                `;
                historyList.appendChild(workoutElement);
            });
        }

        // Handle Workout Form Submission
        document.getElementById('workoutForm').addEventListener('submit', (e) => {
            e.preventDefault();

            const workout = {
                id: Date.now(),
                type: document.getElementById('workoutType').value,
                date: document.getElementById('workoutDate').value,
                duration: parseInt(document.getElementById('duration').value),
                calories: parseInt(document.getElementById('calories').value),
                notes: document.getElementById('notes').value
            };

            workouts.push(workout);
            localStorage.setItem('workouts', JSON.stringify(workouts));

            updateDashboard();
            displayWorkoutHistory();
            e.target.reset();
        });

        // Handle Workout Deletion
        document.getElementById('workoutHistory').addEventListener('click', (e) => {
            if (e.target.closest('.delete-btn')) {
                const id = parseInt(e.target.closest('.delete-btn').dataset.id);
                workouts = workouts.filter(w => w.id !== id);
                localStorage.setItem('workouts', JSON.stringify(workouts));
                updateDashboard();
                displayWorkoutHistory();
            }
        });

        // Handle Filter Buttons
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                displayWorkoutHistory(btn.dataset.filter);
            });
        });

        // Initialize
        updateDashboard();
        displayWorkoutHistory();
    </script>
        <script src="config.js"></script>
    <script src="script.js"></script>
    <script src="https://kit.fontawesome.com/your-kit-code.js"></script>
    <script src="contact.js"></script>
    <!-- <script src="server.js"></script> -->
</body>

</html>